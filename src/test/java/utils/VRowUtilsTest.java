package utils;

import org.junit.Test;
import valueobjects.VRow;

import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import static org.junit.jupiter.api.Assertions.assertEquals;
/**
 * Created by tsomal on 2/23/21.
 */
public class VRowUtilsTest {

    @Test
    public void testMapMyProductOwer() {

        List<VRow> testRows = new LinkedList<VRow>();

        String productOwner_TARUN = "Tarun";

        VRow v = new VRow();
        v.setServerId("10.10");
        v.setServiceName("ISAM");
        v.setServiceOwner(productOwner_TARUN);
        testRows.add(v);

        v = new VRow();
        v.setServerId("20.20");
        v.setServiceName("ISAM");
        v.setServiceOwner(productOwner_TARUN);
        testRows.add(v);

        v = new VRow();
        v.setServerId("30.30");
        v.setServiceName("ESB");
        v.setServiceOwner("Sid");
        testRows.add(v);


        Map<String, List<VRow>> filtered = VRowUtils.mapByProductOwer(testRows, productOwner_TARUN);

        assertEquals(1, filtered.size());
        assertEquals(1, filtered.keySet().size());
        assertEquals(productOwner_TARUN, filtered.keySet().toArray()[0].toString());

       // assertEquals(productOwner_TARUN, filtered.keySet().stream().findFirst().toString());
    }
}
